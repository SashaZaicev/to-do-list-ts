(this["webpackJsonptodolist-ts"]=this["webpackJsonptodolist-ts"]||[]).push([[0],{102:function(t,e,a){},104:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(8),c=a.n(i);a(78),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r,l,s=a(21),u=a(25),d=a(35),f=a(28),m=a(10),O=a(59),b=a.n(O).a.create({withCredentials:!0,headers:{"API-KEY":"39f6779d-eaae-4bd7-8915-a34646e60614"},baseURL:"https://social-network.samuraijs.com/api/1.1/"});!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(r||(r={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(l||(l={}));var T=function(){return b.get("todo-lists").then((function(t){return t}))},k=function(t){return b.post("todo-lists",{title:t})},v=function(t){return b.get("todo-lists/".concat(t,"/tasks"))},E=function(t,e){return b.post("todo-lists/".concat(e,"/tasks"),{title:t})},h=function(t,e){return b.delete("todo-lists/".concat(e,"/tasks/").concat(t))},p=function(t,e,a){return b.put("todo-lists/".concat(t,"/tasks/").concat(e),{model:a})},j={},I=function(t,e){return{type:"REMOVE-TASK",taskId:t,todolistId:e}},g=function(t){return{type:"ADD-TASK",task:t}},C=function(t,e,a){return{type:"UPDATE-TASK",model:e,todolistId:a,taskId:t}},S=function(t,e){return{type:"SET-TASKS",tasks:t,todoId:e}},y=function(t,e,a){return function(n,o){var i=o().tasks[a].find((function(e){return e.id===t}));if(i){var c=Object(m.a)({deadline:i.deadline,description:i.description,priority:i.priority,startDate:i.startDate,title:i.title,status:i.status},e);p(a,t,c).then((function(o){var i=C(t,e,a);n(i)}))}else console.warn("task not found in the state")}},D=[],L=function(t,e){return{type:"CHANGE-TODOLIST-FILTER",id:t,filter:e}},w=function(t,e){return{type:"CHANGE-TODOLIST-TITLE",id:t,title:e}},A=function(t){return{type:"ADD-TODOLIST",todolist:t}},x=function(t){return{type:"REMOVE-TODOLIST",id:t}},N=function(t){return{type:"SET-TODOLISTS",todolists:t}},F=a(60),K=Object(u.c)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":var a=Object(m.a)({},t),n=t[e.todolistId],o=n.filter((function(t){return t.id!==e.taskId}));return a[e.todolistId]=o,a;case"ADD-TASK":var i=Object(m.a)({},t),c=e.task,r=i[c.todoListId],l=[c].concat(Object(f.a)(r));return i[c.todoListId]=l,i;case"UPDATE-TASK":return Object(m.a)(Object(m.a)({},t),{},Object(d.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(m.a)(Object(m.a)({},t),e.model):t}))));case"ADD-TODOLIST":var s=Object(m.a)({},t);return s[e.todolist.id]=[],s;case"REMOVE-TODOLIST":var u=Object(m.a)({},t);return delete u[e.id],u;case"SET-TODOLISTS":var O=Object(m.a)({},t);return e.todolists.forEach((function(t){O[t.id]=[]})),O;case"SET-TASKS":var b=Object(m.a)({},t);return b[e.todoId]=e.tasks,b;default:return Object(m.a)({},t)}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!=e.id}));case"ADD-TODOLIST":return[Object(m.a)(Object(m.a)({},e.todolist),{},{filter:"all"})].concat(Object(f.a)(t));case"CHANGE-TODOLIST-TITLE":var a=t.find((function(t){return t.id===e.id}));return a&&(a.title=e.title),Object(f.a)(t);case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.id?Object(m.a)(Object(m.a)({},t),{},{filter:e.filter}):t}));case"SET-TODOLISTS":return e.todolists.map((function(t){return Object(m.a)(Object(m.a)({},t),{},{filter:"all"})}));default:return Object(f.a)(t)}}}),R=Object(u.d)(K,Object(u.a)(F.a));window.store=R;a(102);var M=a(135),H=a(138),P=a(137),U=a(29),V=a(145),G=a(136),B=o.a.memo((function(t){var e=Object(n.useState)(""),a=Object(U.a)(e,2),i=a[0],c=a[1],r=Object(n.useState)(null),l=Object(U.a)(r,2),s=l[0],u=l[1],d=function(){""!==i.trim()?(t.addItem(i.trim()),c("")):u("Title is required")};return o.a.createElement("div",null,o.a.createElement(V.a,{value:i,onChange:function(t){c(t.currentTarget.value)},onKeyPress:function(t){null!==s&&u(null),13===t.charCode&&d()},variant:"outlined",error:!!s,label:"Title",helperText:s}),o.a.createElement(M.a,{color:"primary",onClick:d},o.a.createElement(G.a,null)))})),J=o.a.memo((function(t){var e=Object(n.useState)(!1),a=Object(U.a)(e,2),i=a[0],c=a[1],r=Object(n.useState)(""),l=Object(U.a)(r,2),s=l[0],u=l[1],d=Object(n.useCallback)((function(t){u(t.currentTarget.value)}),[]);return i?o.a.createElement(V.a,{value:s,autoFocus:!0,onBlur:function(){c(!1),t.onChange(s)},onChange:d}):o.a.createElement("span",{onDoubleClick:function(){c(!0),u(t.value)}},t.value)})),W=a(146),q=o.a.memo((function(t){var e=Object(n.useCallback)((function(e){var a=e.currentTarget.checked;t.changeTaskStatus(t.task.id,a?r.Completed:r.New,t.todolistId)}),[t.task.id,t.todolistId]),a=Object(n.useCallback)((function(e){t.changeTaskTitle(t.task.id,e,t.todolistId)}),[t.task.id,t.changeTaskTitle,t.todolistId]);return o.a.createElement("div",{key:t.task.id,className:t.task.status===r.Completed?"is-done":""},o.a.createElement(W.a,{color:"primary",checked:t.task.status===r.Completed,onChange:e}),o.a.createElement(J,{value:t.task.title,onChange:a}),o.a.createElement(M.a,{onClick:function(){t.removeTask(t.task.id,t.todolistId)}},o.a.createElement(P.a,{style:{width:"20px",height:"20px"}})))})),Y=o.a.memo((function(t){var e=Object(s.b)();Object(n.useEffect)((function(){var a=t.todolistId;e(function(t){return function(e){v(t).then((function(a){var n=a.data.items;e(S(n,t))}))}}(a))}),[]),console.log("todolist call");var a=Object(n.useCallback)((function(e){t.addTask(e,t.todolistId)}),[t.addTask,t.todolistId]),i=Object(n.useCallback)((function(){t.removeTodolist(t.todolistId)}),[]),c=Object(n.useCallback)((function(e){t.changeTodolistTitle(t.todolistId,e)}),[t.todolistId,t.changeTodolistTitle]),l=Object(n.useCallback)((function(){t.changeFilter(t.todolistId,"all")}),[t.todolistId,t.changeFilter]),u=Object(n.useCallback)((function(){t.changeFilter(t.todolistId,"active")}),[t.todolistId,t.changeFilter]),d=Object(n.useCallback)((function(){t.changeFilter(t.todolistId,"completed")}),[t.changeFilter,t.todolistId]),f=t.tasks;return"completed"===t.todolist.filter&&(f=t.tasks.filter((function(t){return t.status===r.New}))),"active"===t.todolist.filter&&(f=t.tasks.filter((function(t){return t.status===r.Completed}))),console.log(f),o.a.createElement("div",null,o.a.createElement("h3",null,o.a.createElement(J,{value:t.title,onChange:c}),o.a.createElement(M.a,{style:{padding:"0"},onClick:i},o.a.createElement(P.a,{style:{width:"20px",height:"20px"}}))),o.a.createElement(B,{addItem:a}),o.a.createElement("div",null,f.map((function(e){return o.a.createElement(q,{task:e,changeTaskStatus:t.changeTaskStatus,changeTaskTitle:t.changeTaskTitle,removeTask:t.removeTask,todolistId:t.todolistId,key:e.id})}))),o.a.createElement("div",null,o.a.createElement(H.a,{variant:"all"===t.todolist.filter?"outlined":"text",onClick:l,color:"default"},"All"),o.a.createElement(H.a,{variant:"active"===t.todolist.filter?"outlined":"text",onClick:u,color:"primary"},"Active"),o.a.createElement(H.a,{variant:"completed"===t.todolist.filter?"outlined":"text",onClick:d,color:"secondary"},"Completed")))})),$=a(139),z=a(140),Q=a(142),X=a(143),Z=a(144),_=a(105),tt=a(141);var et=function(){var t=Object(s.c)((function(t){return t.todolists})),e=Object(s.c)((function(t){return t.tasks})),a=Object(s.b)();Object(n.useEffect)((function(){a((function(t){T().then((function(e){t(N(e.data))}))}))}),[]);var i=Object(n.useCallback)((function(t,e){a(function(t,e){return function(a){h(t,e).then((function(n){var o=I(t,e);a(o)}))}}(t,e))}),[]),c=Object(n.useCallback)((function(t,e){a(function(t,e){return function(a){E(t,e).then((function(t){var e=t.data.data.item,n=g(e);a(n)}))}}(t,e))}),[]),r=Object(n.useCallback)((function(t){a(function(t){return function(e){k(t).then((function(t){e(A(t.data.data.item))}))}}(t))}),[]),l=Object(n.useCallback)((function(t){var e=x(t);a(e)}),[a]),u=Object(n.useCallback)((function(t,e){var n=w(t,e);a(n)}),[a]),d=Object(n.useCallback)((function(t,e){var n=L(t,e);a(n)}),[]),f=Object(n.useCallback)((function(t,e,n){a(y(t,{status:e},n))}),[]),m=Object(n.useCallback)((function(t,e,a){y(t,{title:e},a)}),[]);return o.a.createElement("div",{className:"App"},o.a.createElement($.a,{position:"static"},o.a.createElement(z.a,null,o.a.createElement(M.a,{edge:"start",color:"inherit","arial-label":"menu"},o.a.createElement(tt.a,null)),o.a.createElement(Q.a,{variant:"h6"},"News"),o.a.createElement(H.a,{color:"inherit"},"Login"))),o.a.createElement(X.a,{fixed:!0},o.a.createElement(Z.a,{container:!0,style:{padding:"20px"}},o.a.createElement(B,{addItem:r})),o.a.createElement(Z.a,{container:!0,spacing:3},t.map((function(t){var a=e[t.id];return o.a.createElement(Z.a,{item:!0,key:t.id+t.title},o.a.createElement(_.a,{style:{padding:"10px"}},o.a.createElement(Y,{todolist:t,key:t.id,todolistId:t.id,title:t.title,tasks:a,removeTask:i,removeTodolist:l,changeFilter:d,addTask:c,changeTaskStatus:f,changeTaskTitle:m,changeTodolistTitle:u})))})))))};c.a.render(o.a.createElement(s.a,{store:R},o.a.createElement(et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},73:function(t,e,a){t.exports=a(104)},78:function(t,e,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.314d6673.chunk.js.map